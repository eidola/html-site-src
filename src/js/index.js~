var releases = require('../data/releases.json');
var templates = require('./modules/templates');

var el = document.getElementById('main');
var routes = (function() {
    return {
	index: function() {
	    
	    var html = templates.releases(releases);
	    el.innerHTML = html;
	},

	artist: function(artist) {
	    el.innerHTML = artist;
	},
	release: function(release) {
	    el.innerHTML = release;
	}
    };
}());


window.onhashchange = function(e) {
    var params = e.newURL.toLowerCase().match(/#!\/([^\/]+)\/([^\/]+)/);
    if(params) {
	params.shift();
	var route = params.shift();
	console.log(params);
	if(routes.hasOwnProperty(route)) {
	    routes[route].apply(null, params);
	}
    }
};

routes.index();

